import { CSVParser } from "./utility/parsing/CSVParser";
import { AnimationUI } from "./ui/AnimationUI";
import {DataObject} from "./animation/Animation";

export class ChartAnimationApp {

    window: Window;
    animationUIElements: Set<AnimationUI>;

    constructor(window: Window) {
        this.window = window;
        this.animationUIElements = new Set<AnimationUI>();
        this.addAnimationUI();
    }

    addAnimationUI() {
        let animationUI = new AnimationUI("co2 emission per country in million", this.loadDataObject1(), true);
        this.animationUIElements.add(animationUI);
        $("#chart-animation1").append(animationUI.getJQueryElement());

        let animationUI2 = new AnimationUI("co2 emission per country in million", this.loadDataObject2(), true);
        this.animationUIElements.add(animationUI2);
        $("#chart-animation2").append(animationUI2.getJQueryElement());
    }

    loadDataObject1() : DataObject {
        const csvParser = new CSVParser();
        const csvString = `label,color,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018
Norway,,13.0868,13.3355,14.0604,14.9653,16.1703,16.3899,19.5401,19.3042,21.1137,22.1938,27.9787,27.1662,29.3954,30.4923,27.7058,30.636,33.3872,33.3825,32.7138,34.7386,31.8984,31.9432,31.0634,32.1208,34.012,32.4957,35.0305,33.4588,35.8804,34.4432,35.323,33.8175,34.737,36.2238,38.0873,38.7038,41.8236,41.9205,42.2108,42.9624,42.5153,43.8668,42.984,44.3235,44.6456,43.9512,44.4963,46.2391,45.3821,43.8906,46.2292,45.5119,45.0222,44.9466,44.8905,45.3035,44.4625,43.7022,44.3263
Japan,,232.4996,282.7869,292.8644,324.8355,358.8911,386.4712,419.2451,489.3074,561.9126,653.2154,767.9631,796.5444,852.1705,914.2657,914.3068,868.5114,907.1454,933.2387,901.5914,953.0729,944.8703,926.8374,897.4097,880.9115,937.0721,912.403,912.2622,902.5328,985.4671,1021.6848,1158.5149,1170.0475,1179.7515,1172.7209,1227.6357,1239.9982,1252.0709,1245.3198,1205.5905,1242.1918,1264.9779,1250.3444,1279.5555,1287.7818,1283.0436,1290.3096,1267.1578,1302.8943,1232.2319,1162.9613,1214.4238,1264.5182,1305.8856,1315.0771,1264.8804,1224.5385,1206.1657,1188.1225,1161.9811
Mexico,,63.0523,65.2399,63.7437,66.2922,74.2001,75.1679,80.8446,90.0055,93.8872,102.1762,113.9507,126.1901,132.2791,144.0717,154.7465,164.1654,183.7738,192.4362,222.1673,240.3207,267.8175,283.7971,304.0101,277.6665,276.7657,287.5112,293.5555,306.1944,305.8494,360.5553,317.0423,330.1332,332.7801,338.0672,351.5282,331.5966,345.7661,368.6448,388.3569,390.5165,396.0664,410.6979,411.9677,437.7575,438.8567,463.9932,476.5652,479.7868,492.9797,475.9031,463.7825,484.1648,496.2995,490.1297,481.1288,481.9746,485.4241,492.7695,477.3222
Germany,,813.9502,834.8396,883.1686,945.498,968.9175,960.1022,951.422,936.2294,984.7908,1052.0008,1026.0223,1037.2361,1041.4795,1085.7363,1062.7243,1002.4439,1090.8365,1052.6041,1079.1272,1117.8821,1100.0594,1048.5166,1015.7269,1011.5972,1033.2366,1044.1101,1047.4632,1032.4338,1029.0143,1008.7815,1052.5201,1014.44,966.1768,956.5175,939.9084,939.5428,959.6063,931.7503,923.8237,896.3126,900.3763,916.9125,900.3873,901.4093,887.4579,866.6405,878.0765,851.4185,853.7714,788.9235,832.3877,809.7485,814.138,831.5704,792.7932,795.9395,801.6548,797.9664,759.0019
India,,120.576,130.3929,143.4518,154.0682,150.639,165.9614,171.6884,172.0931,187.1046,190.4004,194.729,205.3296,217.1819,223.6023,231.1847,251.1933,262.5318,277.6483,281.5392,295.299,312.4849,337.1052,347.8156,376.6763,385.9288,424.256,455.0665,486.0673,525.0817,576.4046,616.5792,656.7409,698.7569,722.8943,764.2421,811.4609,878.8271,915.0493,933.5493,995.2331,1029.6378,1035.6403,1047.5957,1091.873,1145.5454,1210.1457,1287.1492,1390.2535,1547.9908,1720.1206,1700.0274,1811.9614,1979.0469,1994.101,2199.4,2298.1701,2371.7523,2456.9545,2654.101
United Kingdom,,584.02,588.6148,592.9315,603.3857,607.866,622.1116,618.0747,592.057,606.4883,628.3825,652.5774,660.3883,648.0264,659.5773,617.1839,603.2474,598.5263,604.3621,604.714,644.5133,579.036,560.555,548.241,545.4858,529.1089,559.6281,568.5548,571.6685,570.2949,581.5773,600.7729,608.6209,593.0948,579.0356,575.1663,566.6572,588.3697,562.2995,567.4495,560.4986,567.1857,575.9891,560.0562,571.5206,573.0078,569.6998,567.2357,558.9588,544.5414,494.0649,511.8314,469.6095,487.6334,477.7513,438.8742,422.4128,399.8389,387.3873,379.0399
Spain,,48.8656,53.6069,59.9758,58.7429,64.3238,71.0205,77.617,86.394,97.0172,96.7369,116.7665,128.4585,144.7162,154.9572,172.6656,181.0534,197.7457,194.8288,199.5135,202.7462,213.9115,206.0957,208.598,203.4345,197.6667,199.9308,189.1121,189.5075,197.4572,224.8846,231.0614,240.6562,249.3615,241.0085,253.5327,267.2268,254.6366,267.1599,275.6944,299.1217,310.8283,312.7371,332.8934,336.8703,353.3687,368.0563,359.3021,367.2229,335.6787,296.5972,283.1085,284.0413,278.6456,251.9728,254.5185,271.0997,260.289,274.4272,268.2338
Canada,,192.7162,194.0007,206.9908,210.9108,237.5777,251.917,259.0744,281.637,303.2613,307.1192,341.1772,352.2851,380.7866,381.2647,389.6052,396.7727,398.946,407.7714,415.5054,441.6469,442.8172,429.5982,414.4264,408.3096,425.1993,421.6756,404.6601,430.9217,455.608,462.8177,462.5022,452.5346,466.7076,466.5777,481.6471,494.2411,509.6936,524.4334,533.101,548.939,571.5073,564.2309,570.5518,587.4921,586.4688,576.8586,570.8113,594.7321,575.454,543.0679,556.4202,566.6745,570.1576,577.3464,577.3596,576.7569,564.0684,571.1389,568.4122
China,,778.9795,550.9585,439.3421,435.5176,435.7038,474.6806,521.4589,432.2236,467.8056,575.9447,770.1672,874.0163,928.894,965.6466,985.0852,1142.1019,1190.9646,1304.4028,1455.2575,1487.113,1458.8867,1442.7824,1570.4683,1655.8105,1802.3171,1951.7732,2052.2421,2191.053,2347.7635,2386.8851,2420.3021,2538.924,2657.1124,2835.7955,3010.2422,3265.057,3408.3466,3414.5493,3265.9026,3258.1349,3349.2948,3426.1441,3782.4393,4452.3103,5125.8944,5771.1684,6377.748,6861.7507,7375.1899,7758.8118,8500.5427,9388.1992,9633.8993,9796.5272,9820.3605,9716.4678,9704.4794,9838.754,10064.6857
France,,271.3608,281.3733,298.8665,334.2264,345.5381,352.1116,347.6048,372.4753,385.101,413.7595,439.6251,463.1314,481.588,517.5423,499.9684,447.7482,506.6147,481.9079,506.7407,530.2807,506.0844,455.4909,437.8881,423.8276,407.1767,402.3213,387.2743,379.5362,374.4805,392.7419,400.8636,426.2683,415.6285,395.7472,390.531,397.5655,413.0784,405.9719,425.4371,421.6414,416.0698,420.7197,415.9322,422.6334,423.7102,427.0362,416.0727,405.5712,399.2766,382.1656,389.834,365.2344,365.8448,366.8519,335.4153,341.1059,342.9555,346.5335,337.9134
Australia,,88.1189,90.5039,94.8235,100.9343,108.8758,120.8527,120.2193,129.1442,134.4969,142.1238,147.4798,152.6295,157.3355,170.8274,172.1894,175.7139,174.0747,187.6049,201.8202,204.8696,220.531,230.1326,233.8886,224.785,236.3612,240.988,239.7222,255.8502,260.8788,277.4856,278.4244,279.8724,284.9121,289.2349,294.0146,305.4098,312.3612,320.7947,334.6841,344.0633,350.1946,357.6687,362.2091,369.7256,383.2047,386.5149,392.6819,400.4154,405.0485,408.3449,406.4259,404.2637,406.987,398.0516,393.2885,402.5376,413.1574,417.0413,420.2209
Brazil,,46.8518,49.1445,53.6314,55.5509,56.6667,56.3296,64.2116,66.0794,77.2714,84.1327,93.5305,102.3579,114.0143,132.0196,142.9273,150.5137,154.3981,162.0783,175.9315,187.1551,185.7584,170.4679,170.7893,165.4269,167.6056,179.9368,197.2262,205.7887,207.563,212.1136,206.9211,217.2277,218.3833,228.3332,239.4705,255.5836,281.1948,296.5855,308.3055,316.2824,324.226,332.9874,327.4348,317.5083,333.6751,342.0865,341.9464,356.9188,380.3447,360.0908,411.2402,429.9594,460.098,495.0468,523.8941,495.2136,454.1947,463.8396,457.1904
Italy,,109.2031,124.3749,146.255,164.5562,175.7211,189.5284,213.9823,234.1297,249.1722,269.661,296.3645,311.0492,328.2375,353.3492,358.2531,341.0526,365.7957,354.4179,371.2742,385.2559,386.4334,375.3006,366.8795,358.4096,364.6016,368.983,363.1882,380.0992,385.963,404.7427,439.6397,439.3446,437.2512,430.5453,424.8106,451.4332,444.1862,448.8355,459.9077,464.2907,470.2938,475.9657,477.5048,490.7504,494.5906,494.458,489.0022,479.0785,467.472,416.6752,426.351,413.9442,392.6298,364.0891,348.5475,355.7846,353.4873,348.9914,338.0267
United States of America,,2887.8204,2877.3698,2984.0017,3116.0224,3252.7552,3388.1927,3559.1792,3693.2982,3828.3061,4021.5026,4325.5008,4351.3087,4558.4526,4762.4522,4592.9583,4400.795,4607.1682,4735.3663,4882.964,4894.0429,4716.7164,4530.3698,4301.9707,4335.9166,4468.2621,4484.3382,4487.8559,4680.8341,4885.5905,4948.0212,5121.1794,5071.5639,5174.6706,5281.3866,5375.0338,5436.698,5625.0419,5701.9209,5749.8931,5829.52,5997.2989,5899.8555,5942.4214,5991.1909,6105.4441,6130.5524,6050.3846,6127.8882,5928.2563,5493.5479,5700.1083,5572.5848,5371.7772,5522.9084,5572.1063,5422.9657,5306.6625,5270.7485,5416.2779`
        return csvParser.parse(csvString);
    }

    loadDataObject2() : DataObject {
        const csvParser = new CSVParser();
        const csvString = `label,color,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018
Japan,,232.4996,282.7869,292.8644,324.8355,358.8911,386.4712,419.2451,489.3074,561.9126,653.2154,767.9631,796.5444,852.1705,914.2657,914.3068,868.5114,907.1454,933.2387,901.5914,953.0729,944.8703,926.8374,897.4097,880.9115,937.0721,912.403,912.2622,902.5328,985.4671,1021.6848,1158.5149,1170.0475,1179.7515,1172.7209,1227.6357,1239.9982,1252.0709,1245.3198,1205.5905,1242.1918,1264.9779,1250.3444,1279.5555,1287.7818,1283.0436,1290.3096,1267.1578,1302.8943,1232.2319,1162.9613,1214.4238,1264.5182,1305.8856,1315.0771,1264.8804,1224.5385,1206.1657,1188.1225,1161.9811
Mexico,,63.0523,65.2399,63.7437,66.2922,74.2001,75.1679,80.8446,90.0055,93.8872,102.1762,113.9507,126.1901,132.2791,144.0717,154.7465,164.1654,183.7738,192.4362,222.1673,240.3207,267.8175,283.7971,304.0101,277.6665,276.7657,287.5112,293.5555,306.1944,305.8494,360.5553,317.0423,330.1332,332.7801,338.0672,351.5282,331.5966,345.7661,368.6448,388.3569,390.5165,396.0664,410.6979,411.9677,437.7575,438.8567,463.9932,476.5652,479.7868,492.9797,475.9031,463.7825,484.1648,496.2995,490.1297,481.1288,481.9746,485.4241,492.7695,477.3222
Germany,,813.9502,834.8396,883.1686,945.498,968.9175,960.1022,951.422,936.2294,984.7908,1052.0008,1026.0223,1037.2361,1041.4795,1085.7363,1062.7243,1002.4439,1090.8365,1052.6041,1079.1272,1117.8821,1100.0594,1048.5166,1015.7269,1011.5972,1033.2366,1044.1101,1047.4632,1032.4338,1029.0143,1008.7815,1052.5201,1014.44,966.1768,956.5175,939.9084,939.5428,959.6063,931.7503,923.8237,896.3126,900.3763,916.9125,900.3873,901.4093,887.4579,866.6405,878.0765,851.4185,853.7714,788.9235,832.3877,809.7485,814.138,831.5704,792.7932,795.9395,801.6548,797.9664,759.0019
India,,120.576,130.3929,143.4518,154.0682,150.639,165.9614,171.6884,172.0931,187.1046,190.4004,194.729,205.3296,217.1819,223.6023,231.1847,251.1933,262.5318,277.6483,281.5392,295.299,312.4849,337.1052,347.8156,376.6763,385.9288,424.256,455.0665,486.0673,525.0817,576.4046,616.5792,656.7409,698.7569,722.8943,764.2421,811.4609,878.8271,915.0493,933.5493,995.2331,1029.6378,1035.6403,1047.5957,1091.873,1145.5454,1210.1457,1287.1492,1390.2535,1547.9908,1720.1206,1700.0274,1811.9614,1979.0469,1994.101,2199.4,2298.1701,2371.7523,2456.9545,2654.101
Canada,,192.7162,194.0007,206.9908,210.9108,237.5777,251.917,259.0744,281.637,303.2613,307.1192,341.1772,352.2851,380.7866,381.2647,389.6052,396.7727,398.946,407.7714,415.5054,441.6469,442.8172,429.5982,414.4264,408.3096,425.1993,421.6756,404.6601,430.9217,455.608,462.8177,462.5022,452.5346,466.7076,466.5777,481.6471,494.2411,509.6936,524.4334,533.101,548.939,571.5073,564.2309,570.5518,587.4921,586.4688,576.8586,570.8113,594.7321,575.454,543.0679,556.4202,566.6745,570.1576,577.3464,577.3596,576.7569,564.0684,571.1389,568.4122
China,,778.9795,550.9585,439.3421,435.5176,435.7038,474.6806,521.4589,432.2236,467.8056,575.9447,770.1672,874.0163,928.894,965.6466,985.0852,1142.1019,1190.9646,1304.4028,1455.2575,1487.113,1458.8867,1442.7824,1570.4683,1655.8105,1802.3171,1951.7732,2052.2421,2191.053,2347.7635,2386.8851,2420.3021,2538.924,2657.1124,2835.7955,3010.2422,3265.057,3408.3466,3414.5493,3265.9026,3258.1349,3349.2948,3426.1441,3782.4393,4452.3103,5125.8944,5771.1684,6377.748,6861.7507,7375.1899,7758.8118,8500.5427,9388.1992,9633.8993,9796.5272,9820.3605,9716.4678,9704.4794,9838.754,10064.6857
France,,271.3608,281.3733,298.8665,334.2264,345.5381,352.1116,347.6048,372.4753,385.101,413.7595,439.6251,463.1314,481.588,517.5423,499.9684,447.7482,506.6147,481.9079,506.7407,530.2807,506.0844,455.4909,437.8881,423.8276,407.1767,402.3213,387.2743,379.5362,374.4805,392.7419,400.8636,426.2683,415.6285,395.7472,390.531,397.5655,413.0784,405.9719,425.4371,421.6414,416.0698,420.7197,415.9322,422.6334,423.7102,427.0362,416.0727,405.5712,399.2766,382.1656,389.834,365.2344,365.8448,366.8519,335.4153,341.1059,342.9555,346.5335,337.9134
Brazil,,46.8518,49.1445,53.6314,55.5509,56.6667,56.3296,64.2116,66.0794,77.2714,84.1327,93.5305,102.3579,114.0143,132.0196,142.9273,150.5137,154.3981,162.0783,175.9315,187.1551,185.7584,170.4679,170.7893,165.4269,167.6056,179.9368,197.2262,205.7887,207.563,212.1136,206.9211,217.2277,218.3833,228.3332,239.4705,255.5836,281.1948,296.5855,308.3055,316.2824,324.226,332.9874,327.4348,317.5083,333.6751,342.0865,341.9464,356.9188,380.3447,360.0908,411.2402,429.9594,460.098,495.0468,523.8941,495.2136,454.1947,463.8396,457.1904
United States of America,,2887.8204,2877.3698,2984.0017,3116.0224,3252.7552,3388.1927,3559.1792,3693.2982,3828.3061,4021.5026,4325.5008,4351.3087,4558.4526,4762.4522,4592.9583,4400.795,4607.1682,4735.3663,4882.964,4894.0429,4716.7164,4530.3698,4301.9707,4335.9166,4468.2621,4484.3382,4487.8559,4680.8341,4885.5905,4948.0212,5121.1794,5071.5639,5174.6706,5281.3866,5375.0338,5436.698,5625.0419,5701.9209,5749.8931,5829.52,5997.2989,5899.8555,5942.4214,5991.1909,6105.4441,6130.5524,6050.3846,6127.8882,5928.2563,5493.5479,5700.1083,5572.5848,5371.7772,5522.9084,5572.1063,5422.9657,5306.6625,5270.7485,5416.2779`
        return csvParser.parse(csvString);
    }

}